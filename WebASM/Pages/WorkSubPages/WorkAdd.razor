@page "/WorkAdd"

@using Mechanic.Shared.Modells
@using WebASM.Services
@inject IWorkService WorkService
<h3>WorkAdd</h3>
<div class="container mt-4">
    <div class="row">
        <div class="col-md-6">

            <!-- Client Dropdown -->
            <div class="mb-3">
                <label for="clientSelect" class="form-label">Select Client</label>
                <select class="form-select" id="clientSelect" >
                    <option disabled selected value="">-- Choose client --</option>
                    @if (clients.Count < 0)
                    {
                        @foreach (var client in clients)
                        {
                            <option value="@client.id">@client.Name</option>
                        }
                    }
                </select>
            </div>

            <!-- License Plate -->
            <div class="mb-3">
                <label for="licensePlate" class="form-label">License Plate</label>
                <input type="text" id="licensePlate" class="form-control" placeholder="ABC-123" />
            </div>

            <!-- Production Date -->
            <div class="mb-3">
                <label for="productionDate" class="form-label">Production Date</label>
                <input type="date" id="productionDate" class="form-control" />
            </div>

            <!-- Short Description -->
            <div class="mb-3">
                <label for="description" class="form-label">Short Description</label>
                <input type="text" id="description" class="form-control" placeholder="e.g. Oil change" />
            </div>

            <!-- Category Dropdown -->
            <div class="mb-3">
                <label for="category" class="form-label">Work Category</label>
                <select class="form-select" id="category">
                    <option disabled selected value="">-- Choose category --</option>
                    @foreach (var category in Enum.GetValues<WorkCategories>())
                    {
                        <option value="@category">@category</option>
                    }
                </select>
            </div>

            <!-- Severity -->
            <div class="mb-3">
                <label for="severity" class="form-label">Severity</label>
                <input type="number" id="severity" class="form-control" min="1" max="10"  />
            </div>

            <button class="btn btn-primary" >Add Work</button>

        </div>
    </div>
</div>

@code {
    //data, progress should be allways default to the first enum (0)
    int clientKey;
    string licensePlate;
    int prodDate;
    string shortDesc;
    int severity;

    List<Client> clients = new List<Client>();
    //for api call
    public async void Addnew()
    {

    }

}